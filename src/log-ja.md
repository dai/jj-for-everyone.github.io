# リポジトリの状態を検査する

````admonish reset title="Reset your progress" collapsible=true
To reset your progress to the start of this chapter, run the following command:

```sh
curl https://jj-for-everyone.github.io/reset.sh | bash -s log
cd ~/jj-tutorial/repo
```
````

今、空のリポジトリを持っています。
より詳しく見てみましょう。
`jj log` コマンドはバージョン履歴の視覚表現を表示します。
実行すると、以下のようなものが表示されるはずです：

<!-- generated by aha script -->
<pre class="aha">
<span class="bold "></span><span class="bold green ">@</span>  <span class="bold "></span><span class="bold highlighted purple ">m</span><span class="bold highlighted dimgray ">kmqlnox</span><span class="bold "> </span><span class="bold yellow ">alice@local</span><span class="bold "> </span><span class="bold highlighted cyan ">2025-07-22 20:15:56</span><span class="bold "> </span><span class="bold highlighted blue ">f</span><span class="bold highlighted dimgray ">6feaadf</span><span class="bold "></span>
│  <span class="bold "></span><span class="bold highlighted green ">(empty)</span><span class="bold "> </span><span class="bold highlighted green ">(no description set)</span><span class="bold "></span>
<span class="bold "></span><span class="bold highlighted cyan ">◆</span>  <span class="bold "></span><span class="bold purple ">z</span><span class="highlighted dimgray ">zzzzzzz</span> <span class="green ">root()</span> <span class="bold "></span><span class="bold blue ">0</span><span class="highlighted dimgray ">0000000</span>
</pre>

既にたくさんのことが起こっていますので、一つずつ分解しましょう。
左端の列には `@`、線、ダイヤモンドがあります。
`@` 記号はリポジトリ内のファイルの現在の状態、ワーキングコピーとも呼ばれるものを表します。
ダイヤモンドは以前の状態を示します。
線は一つが他方の子であることを意味します。
古い状態は下にあり、より新しいものは上にあります。
この場合、ダイヤモンドは "root" で、すべての他のものがそこから降りる空の状態です。
それは変更できません。

VCS用語を少し紹介します。
これまで "state" という言葉を使ってワーキングコピー（`@` 記号）と "root"（ダイヤモンド）を指してきました。
これらの状態はプロジェクトファイルのスナップショットを保存します。
技術的な用語はこれらのスナップショットの**commit** です。
コミットはリポジトリの最も重要なデータ構造です、この用語をこれから使用します。

それでは、最初の列の右側にあるものは何でしょうか？
それはコミットに関する重要なメタデータすべてです。
ワーキングコピーコミットのものを詳しく見てみましょう：

<!-- generated by aha script -->
<pre class="aha">
<span class="bold "></span><span class="bold highlighted purple ">m</span><span class="bold highlighted dimgray ">kmqlnox</span><span class="bold "> </span><span class="bold yellow ">alice@local</span><span class="bold "> </span><span class="bold highlighted cyan ">2025-07-22 20:15:56</span><span class="bold "> </span><span class="bold highlighted blue ">f</span><span class="bold highlighted dimgray ">6feaadf</span><span class="bold "></span>
<span class="bold "></span><span class="bold highlighted green ">(empty)</span><span class="bold "> </span><span class="bold highlighted green ">(no description set)</span><span class="bold "></span>
</pre>

最初の単語は `mkmqlnox` で、ランダムに見える識別番号で、**change ID** と呼ばれます。
次は以前に設定したメールアドレスで、このコミットの作成者を示します。
その後、コミットが作成されたときを示すタイムスタンプです。
最初の行の最後は別のランダムに見える単語 `f6feaadf` です。
それはまた識別番号ですが、このものは **commit hash** または commit ID と呼ばれます。
change ID は commit hash よりも重要で、その位置（change ID が最初に来る）で反映されています。
これらのIDの目的については後で詳しく議論します。

このチュートリアルで提供する例の出力では、change ID とタイムスタンプが常に一貫していないことに気づくかもしれません。
チュートリアルを書いている間、私は前後に移動し、ものを変更し、例のリポジトリを再作成します。
これにより、change ID とタイムスタンプが変更されます。

2番目の行では、"(empty)" という単語は、このコミットが前のコミットと比較して変更されたファイルがないことを示します。
最後に、"(no description set)" は自明です、コミットに説明を付ける可能性を予感させます。

リポジトリが空であっても、コミットとは何かをかなりよく理解できます。
それは**コミット**のセットで、互いに関連し、一つが他方の**親**または**子**である。
これらのコミットはファイルの状態のスナップショットと、作成者、タイムスタンプ、説明などの関連メタデータを保存します。

## Jujutsuの使用に関するヘルプを得る

Jujutsuの2つのコマンド `jj git init` と `jj log` を使用しました。
_たくさんの_コマンドとフラグがあり、それらの動作を変更します。
必要なものをすべて紹介しますが、時々リフレッシュする必要があるかもしれません。
また、自分で探索するのも価値があります。

任意のコマンドに **`--help` フラグ**を渡すことで、文脈依存のドキュメントを表示できます。
例えば、`jj --help` はJujutsuがサポートするトップレベルのコマンドの完全なリストを表示します。
`jj log --help` は `log` コマンドの使用に関する具体的な情報を提供します、つまりニーズに応じてその動作を変更する方法。
これらのヘルプページは最初は圧倒的ですが、何かがいつも残ります、最初に気づかないとしても。
これらに戻るほど、関連情報を効率的に見つけるのが上手になります。
