# リモートブックマークを追跡する

````admonish reset title="Reset your progress" collapsible=true
To reset your progress to the start of this chapter, run the following command:

```sh
curl https://jj-for-everyone.github.io/reset.sh | bash -s track
cd ~/jj-tutorial/repo
```
````

Aliceは新しいラップトップを手に入れました、とても興奮しています。
それは [framework laptop](https://frame.work/) で、Aliceは自分のハードウェアを自分で修理するのが難しくなったAppleにうんざりしていました。
Frameworkには公式のLinuxサポートがあり、それはAliceにとって非常に重要です。
ユーザーを尊重するハードウェアとユーザーを尊重するソフトウェアは素晴らしい組み合わせです、Aliceは思います。

とにかく、ポイントは：Aliceはリポジトリを持っていません。
古いコンピュータからコピーできたかもしれませんが、再クローンするだけでいいので、そうしませんでした。
Aliceがリポジトリをフレッシュにクローンするシナリオをシミュレートしましょう：

```sh
cd ~ # 削除しようとしているディレクトリから移動
rm -rf ~/jj-tutorial/repo
jj git clone --colocate ~/jj-tutorial/remote ~/jj-tutorial/repo
cd ~/jj-tutorial/repo

# Aliceとしてロールプレイ
jj config set --repo user.name "Alice"
jj config set --repo user.email "alice@local"
jj describe --reset-author --no-edit
```

すべてがうまくいったことを確認するために `jj log` を実行しましょう：

<!-- generated by aha script -->
<pre class="aha">
<span class="bold "></span><span class="bold green ">@</span>  <span class="bold "></span><span class="bold highlighted purple ">y</span><span class="bold highlighted dimgray ">uxnowup</span><span class="bold "> </span><span class="bold yellow ">alice@local</span><span class="bold "> </span><span class="bold highlighted cyan ">2025-08-23 20:01:42</span><span class="bold "> </span><span class="bold highlighted blue ">1</span><span class="bold highlighted dimgray ">043cd89</span><span class="bold "></span>
│  <span class="bold "></span><span class="bold highlighted green ">(empty)</span><span class="bold "> </span><span class="bold highlighted green ">(no description set)</span><span class="bold "></span>
<span class="bold "></span><span class="bold highlighted cyan ">◆</span>  <span class="bold "></span><span class="bold purple ">w</span><span class="highlighted dimgray ">kywrwmu</span> <span class="yellow ">bob@local</span> <span class="cyan ">2025-08-23 20:01:22</span> <span class="purple ">main</span> <span class="green ">git_head()</span> <span class="bold "></span><span class="bold blue ">3</span><span class="highlighted dimgray ">6c08763</span>
│  Add submission instructions
~
</pre>

うーん、2つの問題があります。
まず、ドイツ語とフランス語のバージョンの "Hello, world!" のコミットが欠けています。
私たちはそれをプッシュしなかったので、古いラップトップにのみ存在します...
残念ながら、それは今永久に失われています。
唯一のことは、それを再作成することです：

```sh
echo "print('Hallo, Welt!')" >> hello.py
echo "print('Bonjour, le monde!')" >> hello.py
jj commit -m "Print German and French grettings as well"
```

それを直接 `main` ブックマークにプッシュできます：

```sh
jj bookmark move main -t @-
jj git push
```

2番目の問題は、ループ実験のコミットが欠けていることです。
それは実際に失われていません、リモートにプッシュしたので、デフォルトで隠されているだけです。
`jj log --revisions 'all()'` でそれを見つけることができます：

<!-- generated by aha script -->
<pre class="aha">
<span class="bold "></span><span class="bold green ">@</span>  <span class="bold "></span><span class="bold highlighted purple ">n</span><span class="bold highlighted dimgray ">kvmznqz</span><span class="bold "> </span><span class="bold yellow ">alice@local</span><span class="bold "> </span><span class="bold highlighted cyan ">2025-08-23 21:18:57</span><span class="bold "> </span><span class="bold highlighted blue ">e</span><span class="bold highlighted dimgray ">579e9a8</span><span class="bold "></span>
│  <span class="bold "></span><span class="bold highlighted green ">(empty)</span><span class="bold "> </span><span class="bold highlighted green ">(no description set)</span><span class="bold "></span>
<span class="bold "></span><span class="bold highlighted cyan ">◆</span>  <span class="bold "></span><span class="bold purple ">v</span><span class="highlighted dimgray ">mztslml</span> <span class="yellow ">alice@local</span> <span class="cyan ">2025-08-23 21:18:57</span> <span class="purple ">main</span> <span class="green ">git_head()</span> <span class="bold "></span><span class="bold blue ">a9</span><span class="highlighted dimgray ">28e18a</span>
│  Print German and French grettings as well
<span class="bold "></span><span class="bold highlighted cyan ">◆</span>  <span class="bold "></span><span class="bold purple ">vw</span><span class="highlighted dimgray ">kzzxum</span> <span class="yellow ">bob@local</span> <span class="cyan ">2025-08-23 21:18:20</span> <span class="bold "></span><span class="bold blue ">7</span><span class="highlighted dimgray ">a76ce52</span>
│  Add submission instructions
│ ○  <span class="bold "></span><span class="bold purple ">zk</span><span class="highlighted dimgray ">wmvzlq</span> <span class="yellow ">alice@local</span> <span class="cyan ">2025-08-23 21:18:20</span> <span class="purple ">push-zkwmvzlqluot@origin</span> <span class="bold "></span><span class="bold blue ">a7</span><span class="highlighted dimgray ">cd6be9</span>
├─╯  WIP: Add for loop (need to fix syntax)
<span class="bold "></span><span class="bold highlighted cyan ">◆</span>    <span class="bold "></span><span class="bold purple ">pq</span><span class="highlighted dimgray ">oyoror</span> <span class="yellow ">alice@local</span> <span class="cyan ">2025-08-23 21:18:20</span> <span class="bold "></span><span class="bold blue ">94</span><span class="highlighted dimgray ">608da3</span>
├─╮  <span class="green ">(empty)</span> Merge code and documentation for hello-world
│ <span class="bold "></span><span class="bold highlighted cyan ">◆</span>  <span class="bold "></span><span class="bold purple ">o</span><span class="highlighted dimgray ">wrwuqyr</span> <span class="yellow ">alice@local</span> <span class="cyan ">2025-08-23 21:18:20</span> <span class="bold "></span><span class="bold blue ">22</span><span class="highlighted dimgray ">f32788</span>
│ │  Add Python script for greeting the world
<span class="bold "></span><span class="bold highlighted cyan ">◆</span> │  <span class="bold "></span><span class="bold purple ">vp</span><span class="highlighted dimgray ">zorutw</span> <span class="yellow ">bob@local</span> <span class="cyan ">2025-08-23 21:18:20</span> <span class="bold "></span><span class="bold blue ">91</span><span class="highlighted dimgray ">48e791</span>
├─╯  Document hello.py in README.md
<span class="bold "></span><span class="bold highlighted cyan ">◆</span>  <span class="bold "></span><span class="bold purple ">pk</span><span class="highlighted dimgray ">poursq</span> <span class="yellow ">alice@local</span> <span class="cyan ">2025-08-23 21:18:20</span> <span class="bold "></span><span class="bold blue ">02</span><span class="highlighted dimgray ">f136e2</span>
│  Add project description to readme
<span class="bold "></span><span class="bold highlighted cyan ">◆</span>  <span class="bold "></span><span class="bold purple ">t</span><span class="highlighted dimgray ">kpkmszl</span> <span class="yellow ">alice@local</span> <span class="cyan ">2025-08-23 21:18:20</span> <span class="bold "></span><span class="bold blue ">6</span><span class="highlighted dimgray ">6c2503f</span>
│  Add readme with project title
<span class="bold "></span><span class="bold highlighted cyan ">◆</span>  <span class="bold "></span><span class="bold purple ">zz</span><span class="highlighted dimgray ">zzzzzz</span> <span class="green ">root()</span> <span class="bold "></span><span class="bold blue ">00</span><span class="highlighted dimgray ">000000</span>
</pre>

そこにあります。
ループ実験を指すブックマークは `push-zkwmvzlqluot@origin` として表示されます。
しかし、`@origin` とは何でしょうか？
それは以前なかった。

## ブックマーク追跡

Jujutsuにはブックマークが**追跡**または**非追跡**の概念があります。
ブックマークが追跡されている場合、Jujutsuは `jj git push` を実行するときにローカルとリモートのバージョンを同期しようとします。
新しいブックマークを作成してリモートにプッシュすると、自動的に追跡されます。
それが今まで追跡について心配する必要がなかった理由です。

しかし、リポジトリをクローンするとき、 `main` ブックマークのみが自動的に追跡されます。
他のすべてのブックマークはリモートに存在しても、デフォルトで非追跡のままです。
これは便利です、なぜなら多くの他の人とプロジェクトに取り組んでいるかもしれないからです。
あなたは通常ピアの作業中の変更に興味がない。
ピアのブックマークがデフォルトで非追跡であることも、誤って自分のコミットを彼らのブックマークにプッシュするのを防ぎます。

それでも、`push-zkwmvzlqluot` はAliceのブックマークではなく、他人のものではありません。
彼女はログでそれを見ることができ、後で更新してプッシュできるように追跡したいです。
それを達成するコマンドは：

```sh
jj bookmark track push-zkwmvzlqluot@origin
```

今、通常の `jj log` はブックマークを再び表示します：

<!-- generated by aha script -->
<pre class="aha">
<span class="bold "></span><span class="bold green ">@</span>  <span class="bold "></span><span class="bold highlighted purple ">n</span><span class="bold highlighted dimgray ">kvmznqz</span><span class="bold "> </span><span class="bold yellow ">alice@local</span><span class="bold "> </span><span class="bold highlighted cyan ">2025-08-23 21:18:57</span><span class="bold "> </span><span class="bold highlighted blue ">e</span><span class="bold highlighted dimgray ">579e9a8</span><span class="bold "></span>
│  <span class="bold "></span><span class="bold highlighted green ">(empty)</span><span class="bold "> </span><span class="bold highlighted green ">(no description set)</span><span class="bold "></span>
<span class="bold "></span><span class="bold highlighted cyan ">◆</span>  <span class="bold "></span><span class="bold purple ">v</span><span class="highlighted dimgray ">mztslml</span> <span class="yellow ">alice@local</span> <span class="cyan ">2025-08-23 21:18:57</span> <span class="purple ">main</span> <span class="green ">git_head()</span> <span class="bold "></span><span class="bold blue ">a9</span><span class="highlighted dimgray ">28e18a</span>
│  Print German and French grettings as well
<span class="bold "></span><span class="bold highlighted cyan ">◆</span>  <span class="bold "></span><span class="bold purple ">p</span><span class="highlighted dimgray ">qoyoror</span> <span class="yellow ">alice@local</span> <span class="cyan ">2025-08-23 21:18:20</span> <span class="bold "></span><span class="bold blue ">9</span><span class="highlighted dimgray ">4608da3</span>
│  <span class="green ">(empty)</span> Merge code and documentation for hello-world
~
</pre>
